<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Heart Disease Prediction | MediSure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/heart.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
    <div class="header-container">
        <div class="logo">MediSure</div>
        <nav class="nav">
            <a href="/home" class="nav-btn">Home</a>
        </nav>
    </div>
</header>

<!-- MAIN -->
<main class="main">

<div class="form-card">

    <div class="form-header">
        <h2>Heart Disease Prediction</h2>
        <p>Upload medical report or manually enter clinical values</p>
    </div>

    <!-- PDF UPLOAD -->
    <form method="POST" enctype="multipart/form-data" novalidate>

        <div class="upload-box">
            <h4>Upload Medical Report (PDF)</h4>
            <input type="file" name="report" accept=".pdf">

            <button type="submit" name="upload_pdf" class="secondary-btn">
                Upload & Auto-Fill
            </button>

            {% if pdf_uploaded %}
                <p class="success">✔ PDF processed. Fields auto-filled below.</p>
            {% endif %}

            {% if error %}
                <p class="error">{{ error }}</p>
            {% endif %}
        </div>

        <hr>

        <!-- INPUT GRID -->
        <div class="grid">

            <div class="field">
                <label>Age</label>
                <input type="number" name="Age"
                       value="{{ extracted.Age if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>BMI</label>
                <input type="number" step="0.1" name="BMI"
                       value="{{ extracted.BMI if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Total Cholesterol</label>
                <input type="number" name="Cholesterol_Total"
                       value="{{ extracted.Cholesterol_Total if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Hypertension (0 = No, 1 = Yes)</label>
                <input type="number" min="0" max="1" name="Hypertension"
                       value="{{ extracted.Hypertension if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Diabetes (0 = No, 1 = Yes)</label>
                <input type="number" min="0" max="1" name="Diabetes"
                       value="{{ extracted.Diabetes if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Previous Heart Attack (0 = No, 1 = Yes)</label>
                <input type="number" min="0" max="1" name="Previous_Heart_Attack"
                       value="{{ extracted.Previous_Heart_Attack if extracted else '' }}" required>
            </div>

        </div>

        <button type="submit" class="primary-btn">
            Predict Heart Disease Risk
        </button>

    </form>

    <div class="back-link">
        <a href="/home">← Back to Home</a>
    </div>

</div>

</main>

<!-- FOOTER -->
<footer class="footer">
    © 2026 MediSure · AI-Powered Healthcare
</footer>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/69790ff4ed5ce81982726768/1jg0ecl2e';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
</body>
</html>
