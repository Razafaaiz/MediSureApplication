<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Diabetes Prediction | MediSure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/diabetes.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
    <div class="header-container">
        <div class="logo">MediSure</div>
        <nav class="nav">
            <a href="/home" class="nav-btn">Home</a>
        </nav>
    </div>
</header>

<!-- MAIN -->
<main class="main">

<div class="form-card">

    <div class="form-header">
        <h2>Diabetes Prediction</h2>
        <p>Upload medical report or manually enter clinical values</p>
    </div>

    <!-- PDF UPLOAD -->
    <form method="POST" enctype="multipart/form-data" novalidate>

        <div class="upload-box">
            <h4>Upload Medical Report (PDF)</h4>
            <input type="file" name="report" accept=".pdf">
            <button type="submit" name="upload_pdf" class="secondary-btn">
                Upload & Auto-Fill
            </button>

            {% if pdf_uploaded %}
                <p class="success">✔ PDF processed. Fields auto-filled below.</p>
            {% endif %}
        </div>

        <hr>

        <!-- INPUT GRID -->
        <div class="grid">

            <div class="field">
                <label>Glucose Level</label>
                <input type="number" name="Glucose_Level"
                       value="{{ extracted.Glucose_Level if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>BMI</label>
                <input type="number" step="0.1" name="BMI"
                       value="{{ extracted.BMI if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Blood Pressure</label>
                <input type="number" name="Blood_Pressure"
                       value="{{ extracted.Blood_Pressure if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Insulin Level</label>
                <input type="number" step="0.1" name="Insulin"
                       value="{{ extracted.Insulin if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Physical Activity (hrs/week)</label>
                <input type="number" name="Physical_Activity"
                       value="{{ extracted.Physical_Activity if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Age</label>
                <input type="number" name="Age"
                       value="{{ extracted.Age if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Gender (0 = Female, 1 = Male)</label>
                <input type="number" min="0" max="1" name="Gender"
                       value="{{ extracted.Gender if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Family History (0 = No, 1 = Yes)</label>
                <input type="number" min="0" max="1" name="Family_History"
                       value="{{ extracted.Family_History if extracted else '' }}" required>
            </div>

        </div>

        <button type="submit" class="primary-btn">
            Predict Diabetes Risk
        </button>

    </form>

    <div class="back-link">
        <a href="/home">← Back to Home</a>
    </div>

</div>

</main>

<!-- FOOTER -->
<footer class="footer">
    © 2026 MediSure · AI-Powered Healthcare
</footer>

</body>
</html>
