<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Typhoid Prediction | MediSure</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/typhoid.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
    <div class="header-container">
        <div class="logo">MediSure</div>
        <nav class="nav">
            <a href="/home" class="nav-btn">Home</a>
        </nav>
    </div>
</header>

<!-- MAIN -->
<main class="main">

<div class="form-card">

    <div class="form-header">
        <h2>Typhoid Prediction</h2>
        <p>Upload report or manually enter clinical parameters</p>
    </div>

    <!-- PDF UPLOAD -->
    <form method="POST" enctype="multipart/form-data" novalidate>

        <div class="upload-box">
            <h4>Upload Medical Report (PDF)</h4>
            <input type="file" name="report" accept=".pdf">

            <button type="submit" name="upload_pdf" class="secondary-btn">
                Upload & Auto-Fill
            </button>

            {% if pdf_uploaded %}
                <p class="success">✔ PDF processed. Fields auto-filled below.</p>
            {% endif %}
        </div>

        <hr>

        <!-- INPUT GRID -->
        <div class="grid">

            <div class="field">
                <label>Platelet Count</label>
                <input type="number" min="10000" max="500000"
                       name="PlateletCount"
                       value="{{ extracted.PlateletCount if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Age</label>
                <input type="number" min="1" max="100"
                       name="Age"
                       value="{{ extracted.Age if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Hemoglobin (g/dL)</label>
                <input type="number" step="0.1" min="5" max="20"
                       name="Hemoglobin"
                       value="{{ extracted.Hemoglobin if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Calcium (mg/dL)</label>
                <input type="number" step="0.1" min="5" max="15"
                       name="Calcium"
                       value="{{ extracted.Calcium if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Potassium (mmol/L)</label>
                <input type="number" step="0.1" min="2" max="6"
                       name="Potassium"
                       value="{{ extracted.Potassium if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Treatment Duration (weeks)</label>
                <input type="number" min="0" max="12"
                       name="TreatmentDuration"
                       value="{{ extracted.TreatmentDuration if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Blood Culture (0 = Negative, 1 = Positive)</label>
                <input type="number" min="0" max="1"
                       name="BloodCultureBacteria"
                       value="{{ extracted.BloodCultureBacteria if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Symptoms Severity (1–Low, 2–Medium, 3–High)</label>
                <input type="number" min="1" max="3"
                       name="SymptomsSeverity"
                       value="{{ extracted.SymptomsSeverity if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Urine Culture (0 = Negative, 1 = Positive)</label>
                <input type="number" min="0" max="1"
                       name="UrineCultureBacteria"
                       value="{{ extracted.UrineCultureBacteria if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Current Medication (Encoded)</label>
                <input type="number" min="0" max="10"
                       name="CurrentMedication"
                       value="{{ extracted.CurrentMedication if extracted else '' }}" required>
            </div>

            <div class="field">
                <label>Gender (1 = Male, 0 = Female)</label>
                <input type="number" min="0" max="1"
                       name="Gender"
                       value="{{ extracted.Gender if extracted else '' }}" required>
            </div>

        </div>

        <button type="submit" class="primary-btn">
            Predict Typhoid Risk
        </button>

    </form>

    <div class="back-link">
        <a href="/home">← Back to Home</a>
    </div>

</div>

</main>

<!-- FOOTER -->
<footer class="footer">
    © 2026 MediSure · AI-Powered Clinical Decision Support
</footer>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/69790ff4ed5ce81982726768/1jg0ecl2e';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
</body>
</html>
